---
import MainLayout from '../layouts/MainLayout.astro';
import PokemonCard from '../components/pokemons/PokemonCard.astro';
import type { PokemonListResponse } from '../interfaces/pokemon-list-response';
const response = await fetch('https://pokeapi.co/api/v2/pokemon');
const data = (await response.json()) as PokemonListResponse;
---

<MainLayout title="Pokemon Static | Home">
	<h1 class="text-3xl py-3">Listado de Pokemons</h1>
		<section aria-label="Listado de Pokemons" class="grid grid-cols-1 gap-4 sm:grid-cols-4 md:grid-cols-5">
			{
				data.results.map((pokemon, index) => {
					let id = index + 1;
					let pokemonSprite = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${id}.png`;
					return (
						<PokemonCard pokeId={id} name={pokemon.name} url={pokemon.url} image={pokemonSprite} />
					)
				}
			)}
		</section>
</MainLayout>